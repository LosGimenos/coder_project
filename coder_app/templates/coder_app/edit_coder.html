{% extends 'coder_app/base.html' %}

{% block content %}
    <ul class="pager pager-top-left">
        {% if source == 'project' %}
        <li class="previous back-button-updates">
            <a href="{% url 'coder_app:edit_project_coders' project_id %}">
                <span aria-hidden="true">&larr;</span> Back to Assign Coders</a></li>
        {% else %}
        <li class="previous back-button-updates">
            <a href="{% url 'coder_app:add_coder' %}">
                <span aria-hidden="true">&larr;</span> Back to Coder Library</a></li>
        {% endif %}
    </ul>
    <br/>
    {% include 'coder_app/nav_tabs.html' %}
    <ol class="breadcrumb breadcrumb-top-left" style="margin-top: 2%;">
        {% if source == 'project' %}
            <li><a href="#">Projects</a></li>
            <li><a href="#">Assign Coders</a></li>
       {% else %}
            <li><a href="#">Coders</a></li>
       {% endif %}
        <li><a href="#">Edit Coder Details</a></li>
    </ol>
    <div style="margin-left: 1.5%;">
    <div class="row">
        <div class="col-md-3">
                    <h3>Edit Coder Details</h3>

        <form action="{% url 'coder_app:edit_coder' coder_id=coder.id %}" class="input-group" method="post">
            {% csrf_token %}
            <label for="coder-first-name">First Name</label>
            <input class="form-control" type="input" name="coder-first-name" value="{{ coder.first_name }}"/> <br />
            <label for="coder-last-name">Last Name</label>
            <input class="form-control" type="input" name="coder-last-name" value="{{ coder.last_name }}"/> <br />
            <label for="coder-username">Username</label>
            <input class="form-control" type="input" name="coder-username" value="{{ coder.username }}"/> <br />
            <label for="coder-email">Email</label>
            <input class="form-control" type="input" name="coder-email" value="{{ coder.email }}"/> <br />
            <input class="text" style="display:none;" name="project_id" value="{{ project_id }}" />
            <input style="margin-top: 5%;" class='btn btn-success' type="submit" name="edit_coder" value="Submit Changes"/><br />
        </form>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-5">
            <div class="col-md-6">
                <h3>Accuracy for <br/>{{ coder.first_name }} {{ coder.last_name }}</h3>
                <span><p style="font-size: 2em;">{{ coder.rating }}</p></span>
            </div>
            <br />
            <div class="col-md-12">
                <h3>Attached to these Projects:</h3>
                <div style="overflow: scroll; height: 12vh;">
                    <ul style="list-style: none; padding-left: 0;">
                        {% if projects %}
                            {% for project in projects %}
                                <li style="padding-left: 0;">{{ project.name }} |
                                    <a href="{% url 'coder_app:select_mention' coder.id project.id %}"><span>review responses</span></a>
                                </li>
                            {% endfor %}
                            {% else %}
                            <span>No Current Projects</span>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
    </div>

{% endblock %}